/**
 * Custom JavaScript for Gymove Template
 */
(function($) {
  "use strict";

  // Sidebar
  var Sidemenu = function() {
    this.$menuItem = $('#menu a');
  };

  function init() {
    var $this = Sidemenu;
    $('#menu').metisMenu();
    
    // Activate menu based on URL
    $this.$menuItem.each(function() {
      if($(this).attr('href') === window.location.pathname) {
        $(this).addClass('active');
        $(this).parent().addClass('mm-active');
        $(this).parent().parent().addClass('mm-show');
        $(this).parent().parent().prev().addClass('mm-active');
        $(this).parent().parent().parent().addClass('mm-active');
        $(this).parent().parent().parent().parent().addClass('mm-show');
      }
    });
  }

  // Toggle sidebar
  $('.nav-control').on('click', function() {
    $('#main-wrapper').toggleClass('menu-toggle');
    $('.hamburger').toggleClass('is-active');
  });

  // Initialize when document is ready
  $(document).ready(function() {
    init();
  });

})(jQuery);